syntax = "proto3";

package synq;

service SynqService {
  rpc Scroll(stream ScrollEvent) returns (Empty);
  rpc Clipboard(ClipboardEvent) returns (Empty);
  rpc ActiveRequest(ActiveEvent) returns (ActiveEvent);
  rpc ActiveState(ActiveEvent) returns (Empty);
}

enum ScrollSource {
  SCROLL_SOURCE_WHEEL = 0;
  SCROLL_SOURCE_FINGER = 1;
  SCROLL_SOURCE_CONTINUOUS = 2;
}

message ScrollEvent {
  ScrollSource source = 1;
  double delta_x = 2;
  double delta_y = 3;
}

message ClipboardEvent {
  string client = 1;
  bytes data = 2;
}

message ActiveEvent {
  string peer = 1;
  uint64 clock = 2;
}

message Empty {}
